(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[3831],{9456:(e,t,s)=>{Promise.resolve().then(s.bind(s,5276))},6046:(e,t,s)=>{"use strict";var r=s(6658);s.o(r,"usePathname")&&s.d(t,{usePathname:function(){return r.usePathname}}),s.o(r,"useRouter")&&s.d(t,{useRouter:function(){return r.useRouter}}),s.o(r,"useSearchParams")&&s.d(t,{useSearchParams:function(){return r.useSearchParams}})},5276:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>d});var r=s(5155),n=s(2115),a=s(6046),o=s(8173),l=s.n(o);function i(e){let{news:t}=e,s=(0,a.useRouter)(),n=(e,t)=>{t.preventDefault(),t.stopPropagation(),s.replace("/blog?tag=".concat(encodeURIComponent(e)))};return(0,r.jsx)("article",{className:"bg-[#1D383D] backdrop-blur-sm border border-[rgb(70,120,130)] rounded-lg shadow-lg overflow-hidden transition-all duration-300 hover:shadow-[#8AFFFB]/30 hover:border-[#8AFFFB]/50",children:(0,r.jsxs)("div",{className:"p-6",children:[(0,r.jsxs)("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between mb-3",children:[(0,r.jsx)(l(),{href:"/blog/".concat(t.slug),className:"hover:text-[#8AFFFB] transition-colors",children:(0,r.jsx)("h2",{className:"text-2xl font-bold mb-2 sm:mb-0 text-white font-ruslan",children:t.title})}),(0,r.jsx)("span",{className:"text-sm text-[#8AFFFB]/80 whitespace-nowrap",children:new Date(t.publishedAt).toLocaleDateString("ru-RU",{day:"numeric",month:"long",year:"numeric"})})]}),(0,r.jsx)("div",{className:"w-20 h-1 bg-[#8AFFFB] mb-4"}),(0,r.jsx)("p",{className:"text-gray-300 text-base leading-relaxed mb-4 font-alegreya",children:t.excerpt}),(0,r.jsx)("div",{className:"flex flex-wrap gap-2 mb-4",children:t.tags.map(e=>(0,r.jsx)("button",{className:"px-3 py-1 text-xs font-medium rounded-full border transition-colors",style:{backgroundColor:e.color+"20",color:e.color,borderColor:e.color+"50"},onClick:t=>n(e.name,t),children:e.name},e.id))}),t.display.showReadingTime&&(0,r.jsxs)("div",{className:"mb-4 text-sm text-gray-400 flex items-center font-alegreya",children:[(0,r.jsx)("svg",{className:"w-4 h-4 mr-1",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:(0,r.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"})}),t.analytics.readingTime," мин чтения"]}),(0,r.jsxs)("button",{onClick:e=>{e.preventDefault(),s.push("/blog/".concat(t.slug))},className:"bg-[#3A6A73] hover:bg-[#4A7A83] text-white font-medium py-2 px-4 rounded-md flex items-center transition-all duration-300 shadow-md hover:shadow-lg transform hover:-translate-y-1 font-seymour",children:["Читать полностью",(0,r.jsx)("svg",{className:"w-5 h-5 ml-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:(0,r.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M14 5l7 7m0 0l-7 7m7-7H3"})})]})]})})}function c(){let e=(0,a.useSearchParams)(),t=(0,a.useRouter)(),s=e.get("tag"),o=parseInt(e.get("page")||"1"),[l,c]=(0,n.useState)([]),[d,m]=(0,n.useState)([]),[x,h]=(0,n.useState)(s?[s]:[]),[g,u]=(0,n.useState)(o),[b,p]=(0,n.useState)(!0),[f,w]=(0,n.useState)(null);async function j(){try{p(!0);let e=await fetch("/data/blog-articles.json");if(!e.ok)throw Error("Не удалось загрузить данные");let t=(await e.json()).articles.filter(e=>"published"===e.status).sort((e,t)=>new Date(t.publishedAt).getTime()-new Date(e.publishedAt).getTime());c(t);let s=new Set;t.forEach(e=>{e.tags.forEach(e=>s.add(e.name))}),m(Array.from(s))}catch(e){w(e instanceof Error?e.message:"Произошла ошибка")}finally{p(!1)}}function v(e){u(e);let s=new URLSearchParams;x.length>0&&s.set("tag",x[0]),e>1&&s.set("page",e.toString());let r=s.toString();t.replace("/blog".concat(r?"?"+r:""))}(0,n.useEffect)(()=>{j()},[]),(0,n.useEffect)(()=>{let t=e.get("tag"),s=parseInt(e.get("page")||"1");t?h([t]):h([]),u(s)},[e]);let N=x.length>0?l.filter(e=>e.tags.some(e=>x.includes(e.name))):l,y=Math.ceil(N.length/6),k=(g-1)*6,F=N.slice(k,k+6);return(0,r.jsxs)("main",{className:"min-h-screen bg-[#020A0C] text-white relative overflow-hidden pt-12",children:[(0,r.jsx)("div",{className:"fixed inset-0 overflow-hidden pointer-events-none z-0 bg-cover bg-center bg-no-repeat",style:{backgroundImage:"url(/images/blog/blog_bg.png)",backgroundAttachment:"fixed"}}),(0,r.jsxs)("div",{className:"container mx-auto px-4 py-8 relative z-1",children:[(0,r.jsx)("h1",{className:"text-4xl font-bold mb-8 text-center font-seymour",children:"Блог"}),b?(0,r.jsx)("div",{className:"flex justify-center items-center h-64",children:(0,r.jsx)("div",{className:"text-xl",children:"Загрузка..."})}):f?(0,r.jsx)("div",{className:"flex justify-center items-center h-64",children:(0,r.jsx)("div",{className:"text-xl text-red-400",children:f})}):(0,r.jsxs)(r.Fragment,{children:[(0,r.jsxs)("div",{className:"max-w-6xl mx-auto mb-8 bg-[rgb(58,103,111)]/80 backdrop-blur-sm border border-[rgb(70,120,130)] rounded-lg p-5 shadow-lg",children:[(0,r.jsxs)("h2",{className:"text-lg font-medium mb-4 text-[#8AFFFB] flex items-center font-ruslan",children:[(0,r.jsx)("svg",{className:"w-5 h-5 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:(0,r.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M3 4a1 1 0 011-1h16a1 1 0 011 1v2.586a1 1 0 01-.293.707l-6.414 6.414a1 1 0 00-.293.707V17l-4 4v-6.586a1 1 0 00-.293-.707L3.293 7.293A1 1 0 013 6.586V4z"})}),"Фильтр по тегам"]}),(0,r.jsx)("div",{className:"flex flex-wrap gap-2",children:d.map(e=>(0,r.jsx)("button",{onClick:()=>(function(e){if(x.includes(e)){let s=x.filter(t=>t!==e);h(s),u(1),s.length>0?t.replace("/blog?tag=".concat(encodeURIComponent(s[0]))):t.replace("/blog")}else h([...x,e]),u(1),t.replace("/blog?tag=".concat(encodeURIComponent(e)))})(e),className:"px-3 py-1 rounded-full text-sm transition-all duration-300 ".concat(x.includes(e)?"bg-[#8AFFFB] text-[#233437] shadow-md border border-[#8AFFFB]":"bg-[rgb(70,120,130)]/80 text-gray-300 hover:bg-[rgb(80,130,140)] border border-[rgb(80,130,140)] hover:border-[#8AFFFB]"),children:e},e))}),x.length>0&&(0,r.jsxs)("button",{onClick:()=>{h([]),u(1),t.replace("/blog")},className:"mt-4 text-sm text-[#8AFFFB] hover:text-white flex items-center transition-colors",children:[(0,r.jsx)("svg",{className:"w-4 h-4 mr-1",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:(0,r.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})}),"Сбросить фильтры"]})]}),(0,r.jsx)("div",{className:"max-w-6xl mx-auto",children:0===F.length?(0,r.jsxs)("div",{className:"text-center py-12",children:[(0,r.jsx)("p",{className:"text-xl text-gray-400",children:"Статей не найдено"}),x.length>0&&(0,r.jsx)("p",{className:"mt-2 text-gray-500",children:"Попробуйте изменить параметры фильтрации"})]}):(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6 mb-8",children:F.map(e=>(0,r.jsx)(i,{news:e},e.id))}),y>1&&(0,r.jsxs)("div",{className:"flex justify-center items-center space-x-2",children:[(0,r.jsx)("button",{onClick:()=>v(g-1),disabled:1===g,className:"px-3 py-2 rounded-md text-sm font-medium transition-colors ".concat(1===g?"bg-[rgb(70,120,130)] text-gray-500 cursor-not-allowed":"bg-[rgb(70,120,130)] text-white hover:bg-[rgb(80,130,140)]"),children:"← Назад"}),Array.from({length:y},(e,t)=>t+1).map(e=>(0,r.jsx)("button",{onClick:()=>v(e),className:"px-3 py-2 rounded-md text-sm font-medium transition-colors ".concat(e===g?"bg-[#8AFFFB] text-[#233437] shadow-md":"bg-[rgb(70,120,130)] text-white hover:bg-[rgb(80,130,140)]"),children:e},e)),(0,r.jsx)("button",{onClick:()=>v(g+1),disabled:g===y,className:"px-3 py-2 rounded-md text-sm font-medium transition-colors ".concat(g===y?"bg-[rgb(70,120,130)] text-gray-500 cursor-not-allowed":"bg-[rgb(70,120,130)] text-white hover:bg-[rgb(80,130,140)]"),children:"Вперед →"})]})]})})]})]})]})}function d(){return(0,r.jsx)(n.Suspense,{fallback:(0,r.jsx)("div",{className:"min-h-screen bg-background text-white flex items-center justify-center",children:"Загрузка..."}),children:(0,r.jsx)(c,{})})}}},e=>{var t=t=>e(e.s=t);e.O(0,[8173,8441,1517,7358],()=>t(9456)),_N_E=e.O()}]);