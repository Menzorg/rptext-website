(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[831],{9456:(e,t,s)=>{Promise.resolve().then(s.bind(s,894))},5565:(e,t,s)=>{"use strict";s.d(t,{default:()=>l.a});var r=s(4146),l=s.n(r)},6046:(e,t,s)=>{"use strict";var r=s(6658);s.o(r,"usePathname")&&s.d(t,{usePathname:function(){return r.usePathname}}),s.o(r,"useRouter")&&s.d(t,{useRouter:function(){return r.useRouter}}),s.o(r,"useSearchParams")&&s.d(t,{useSearchParams:function(){return r.useSearchParams}})},4146:(e,t,s)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e,t){for(var s in t)Object.defineProperty(e,s,{enumerable:!0,get:t[s]})}(t,{default:function(){return c},getImageProps:function(){return n}});let r=s(306),l=s(666),a=s(7970),o=r._(s(5514));function n(e){let{props:t}=(0,l.getImgProps)(e,{defaultLoader:o.default,imgConf:{deviceSizes:[640,750,828,1080,1200,1920,2048,3840],imageSizes:[16,32,48,64,96,128,256,384],path:"/_next/image",loader:"default",dangerouslyAllowSVG:!1,unoptimized:!0}});for(let[e,s]of Object.entries(t))void 0===s&&delete t[e];return{props:t}}let c=a.Image},894:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>c});var r=s(5155),l=s(2115),a=s(6046),o=s(3941);function n(){let e=(0,a.useSearchParams)(),t=(0,a.useRouter)(),s=e.get("tag"),[n,c]=(0,l.useState)([]),[i,d]=(0,l.useState)([]),[u,m]=(0,l.useState)(s?[s]:[]),[x,h]=(0,l.useState)(!0),[g,b]=(0,l.useState)(null);async function f(){try{h(!0);let e=await fetch("/data/news.json");if(!e.ok)throw Error("Не удалось загрузить данные");let t=await e.json();c(t.news);let s=new Set;t.news.forEach(e=>{e.tags.forEach(e=>s.add(e))}),d(Array.from(s))}catch(e){b(e instanceof Error?e.message:"Произошла ошибка")}finally{h(!1)}}(0,l.useEffect)(()=>{f()},[]),(0,l.useEffect)(()=>{let t=e.get("tag");console.log("Получен тег из URL:",t),t?(console.log("Устанавливаем выбранный тег:",t),m([t])):(console.log("Сбрасываем выбранные теги"),m([]))},[e]);let p=u.length>0?n.filter(e=>e.tags.some(e=>u.includes(e))):n;return console.log("Выбранные теги:",u),console.log("Всего новостей:",n.length),console.log("Отфильтрованных новостей:",p.length),(0,r.jsxs)("main",{className:"min-h-screen bg-gray-900 text-white relative overflow-hidden",children:[(0,r.jsx)("div",{className:"fixed inset-0 overflow-hidden pointer-events-none z-0",style:{backgroundImage:"url(/images/news-bg.jpg)",backgroundSize:"cover",backgroundPosition:"center",backgroundRepeat:"no-repeat",backgroundAttachment:"fixed",opacity:.3}}),(0,r.jsxs)("div",{className:"container mx-auto px-4 py-8 relative z-1",children:[(0,r.jsx)("h1",{className:"text-4xl font-bold mb-8 text-center",children:"Блог"}),x?(0,r.jsx)("div",{className:"flex justify-center items-center h-64",children:(0,r.jsx)("div",{className:"text-xl",children:"Загрузка..."})}):g?(0,r.jsx)("div",{className:"flex justify-center items-center h-64",children:(0,r.jsx)("div",{className:"text-xl text-red-400",children:g})}):(0,r.jsxs)(r.Fragment,{children:[(0,r.jsxs)("div",{className:"max-w-5xl mx-auto mb-8 bg-gray-800/80 backdrop-blur-sm border border-gray-700 rounded-lg p-5 shadow-lg",children:[(0,r.jsxs)("h2",{className:"text-lg font-medium mb-4 text-blue-300 flex items-center",children:[(0,r.jsx)("svg",{className:"w-5 h-5 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:(0,r.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M3 4a1 1 0 011-1h16a1 1 0 011 1v2.586a1 1 0 01-.293.707l-6.414 6.414a1 1 0 00-.293.707V17l-4 4v-6.586a1 1 0 00-.293-.707L3.293 7.293A1 1 0 013 6.586V4z"})}),"Фильтр по тегам"]}),(0,r.jsx)("div",{className:"flex flex-wrap gap-2",children:i.map(e=>(0,r.jsx)("button",{onClick:()=>(function(e){if(console.log("Переключение тега:",e),u.includes(e)){let s=u.filter(t=>t!==e);m(s),s.length>0?t.replace("/blog?tag=".concat(encodeURIComponent(s[0]))):t.replace("/blog")}else m([...u,e]),t.replace("/blog?tag=".concat(encodeURIComponent(e)))})(e),className:"px-3 py-1 rounded-full text-sm transition-all duration-300 ".concat(u.includes(e)?"bg-blue-600 text-white shadow-md shadow-blue-900/30 border border-blue-500":"bg-gray-700/80 text-gray-300 hover:bg-gray-600 border border-gray-600 hover:border-blue-700"),children:e},e))}),u.length>0&&(0,r.jsxs)("button",{onClick:()=>m([]),className:"mt-4 text-sm text-blue-400 hover:text-blue-300 flex items-center transition-colors",children:[(0,r.jsx)("svg",{className:"w-4 h-4 mr-1",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:(0,r.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})}),"Сбросить фильтры"]})]}),(0,r.jsx)("div",{className:"max-w-5xl mx-auto",children:0===p.length?(0,r.jsxs)("div",{className:"text-center py-12",children:[(0,r.jsx)("p",{className:"text-xl text-gray-400",children:"Записей не найдено"}),u.length>0&&(0,r.jsx)("p",{className:"mt-2 text-gray-500",children:"Попробуйте изменить параметры фильтрации"})]}):(0,r.jsx)("div",{className:"space-y-8",children:p.map(e=>(0,r.jsx)(o.A,{news:e},e.id))})})]})]})]})}function c(){return(0,r.jsx)(l.Suspense,{fallback:(0,r.jsx)("div",{className:"min-h-screen bg-gray-900 text-white flex items-center justify-center",children:"Загрузка..."}),children:(0,r.jsx)(n,{})})}},3941:(e,t,s)=>{"use strict";s.d(t,{A:()=>i});var r=s(5155),l=s(5565),a=s(8173),o=s.n(a),n=s(2115),c=s(6046);function i(e){let{news:t}=e,[s,a]=(0,n.useState)(!1),i=(0,c.useRouter)(),d=t.image&&!s?t.image:"/images/maskot.png";console.log("Используемое изображение для ".concat(t.id,": ").concat(d)),console.log("Оригинальное изображение: ".concat(t.image,", Ошибка: ").concat(s));let u=(e,t)=>{t.preventDefault(),t.stopPropagation(),console.log("Клик по тегу: ".concat(e)),i.replace("/blog?tag=".concat(encodeURIComponent(e)))};return(0,r.jsx)("article",{className:"bg-gray-800/80 backdrop-blur-sm border border-gray-700 rounded-lg shadow-lg overflow-hidden transition-all duration-300 hover:shadow-blue-900/30 hover:border-blue-800/50",children:(0,r.jsxs)("div",{className:"flex flex-col md:flex-row",children:[(0,r.jsx)("div",{className:"w-full md:w-1/4 h-64 md:h-auto relative",children:(0,r.jsx)(o(),{href:"/blog/".concat(t.routeName),className:"block h-full",children:(0,r.jsxs)("div",{className:"relative h-full w-full cursor-pointer",children:[(0,r.jsx)("div",{className:"absolute inset-0 bg-blue-900/20 z-10"}),(0,r.jsx)(l.default,{src:d,alt:t.title,fill:!0,className:"object-cover transition-transform duration-500 hover:scale-105",sizes:"(max-width: 768px) 100vw, 300px",priority:!0,onError:()=>{console.log("Ошибка загрузки изображения: ".concat(t.image)),a(!0)}})]})})}),(0,r.jsxs)("div",{className:"p-6 md:p-8 md:w-3/4",children:[(0,r.jsxs)("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between mb-3",children:[(0,r.jsx)(o(),{href:"/blog/".concat(t.routeName),className:"hover:text-blue-300 transition-colors",children:(0,r.jsx)("h2",{className:"text-2xl sm:text-3xl font-bold mb-2 sm:mb-0 text-white",children:t.title})}),(0,r.jsx)("span",{className:"text-sm text-blue-300/80",children:new Date(t.date).toLocaleDateString("ru-RU",{day:"numeric",month:"long",year:"numeric"})})]}),(0,r.jsx)("div",{className:"w-20 h-1 bg-blue-500 mb-5"}),(0,r.jsx)("p",{className:"text-gray-300 text-lg leading-relaxed mb-5",children:t.text}),(0,r.jsx)("div",{className:"flex flex-wrap gap-2 mt-3",children:t.tags.map((e,t)=>(0,r.jsx)("button",{className:"px-3 py-1 bg-blue-900/50 text-blue-200 text-xs font-medium rounded-full border border-blue-700/50 hover:bg-blue-800/70 hover:border-blue-600 transition-colors",onClick:t=>u(e,t),children:e},t))}),(0,r.jsxs)("button",{onClick:e=>{e.preventDefault(),i.push("/blog/".concat(t.routeName))},className:"mt-5 bg-blue-700 hover:bg-blue-600 text-white font-medium py-2 px-4 rounded-md flex items-center transition-all duration-300 shadow-md hover:shadow-lg transform hover:-translate-y-1",children:["Читать полностью",(0,r.jsx)("svg",{className:"w-5 h-5 ml-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:(0,r.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M14 5l7 7m0 0l-7 7m7-7H3"})})]})]})]})})}}},e=>{var t=t=>e(e.s=t);e.O(0,[173,970,441,517,358],()=>t(9456)),_N_E=e.O()}]);